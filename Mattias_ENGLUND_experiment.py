

## Help ## This script attempts to connect to a specific port on a remote server (scanme.nmap.org) to check if the port is open or closed.
"""
Mattias Experiment Script
Student: Mattias E
Start date: 2025-10-22
"""     
"""
**Vanliga portar:**
- Port 80: HTTP (webbplatser)
- Port 443: HTTPS (säkra webbplatser)
- Port 22: SSH (säker fjärråtkomst)
- Port 21: FTP (filöverföring)
**Mål:** Skapa ett program som kontrollerar om EN specifik port är öppen på EN målvärd.
**Vad du behöver ta reda på:**
1. Hur man importerar och använder Pythons `socket`-bibliotek
2. Hur man skapar en socket-anslutning till en specifik IP-adress och port
3. Hur man avgör om anslutningen lyckades eller misslyckades
4. Hur man hanterar att anslutningen stängs ordentligt
**Testa din kod på:**
- `scanme.nmap.org`
- Port 80
**Frågor att diskutera i din grupp:**
- Vad händer när du försöker ansluta till en stängd port?
- Vilket undantag/fel ger Python dig?
- Varför behöver vi stänga socketen efter testning?
"""

import socket  # Gör att vi kan skapa nätverksanslutningar

# Lista med portar att kolla
ports = [22]

# Funktion som kollar om en port är öppen
def check_port(host, port):
    sock = socket.socket()              # Skapar en socket (standard = IPv4 + TCP)
    sock.settimeout(1)                  # Väntar max 1 sekund
    result = sock.connect_ex((host, port))  # Försöker ansluta (0 = öppen)
    sock.close()                        # Stänger anslutningen

    if result == 0:
        print(f"Port {port} är ÖPPEN på {host}")
    else:
        print(f"Port {port} är STÄNGD på {host}")
# Testar funktionen på scanme.nmap.org
host = "scanme.nmap.org"
for port in ports:
    check_port(host, port)  


#Steg två: Utöka koden för att kolla flera portar (1-100)
def check_multiple_ports(host, start_port, end_port):   
    for port in range(start_port, end_port + 1):
        sock = socket.socket()
        sock.settimeout(1)
        result = sock.connect_ex((host, port))
        sock.close()

        if result == 0:
            print(f"Port {port} är ÖPPEN på {host}")
        else:
            print(f"Port {port} är STÄNGD på {host}")
# Testar funktionen på scanme.nmap.org för portar 22-100
check_multiple_ports(host, 22, 100)


















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































